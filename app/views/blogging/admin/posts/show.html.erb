<%= render Bali::PageHeader::Component.new(class: 'mb-6') do |c| %>
  <% c.with_title(@post.title) %>

  <%= link_to icon_tag('pencil'), edit_admin_post_path(@post),
    class: 'btn btn-sm btn-ghost text-info mr-4' %>
  <%= button_to icon_tag('trash', class: 'text-error'), admin_tag_path(tag),
    method: :delete, form: { data: { 'turbo-confirm': t('.confirm') } },
    class: 'btn btn-sm btn-ghost text-error' %>
<% end %>

<%= render Bali::InfoLevel::Component.new do |c| %>
  <%= c.with_item do |ci| %>
    <%= ci.with_heading(t('activerecord.attributes.blogging/post.author_id')) %>
    <%= ci.with_title(@post.author.name, class: 'text-lg font-bold') %>
  <% end %>

  <%= c.with_item do |ci| %>
    <%= ci.with_heading(t('activerecord.attributes.blogging/post.status')) %>
    <%= ci.with_title(@post.status, class: 'text-lg font-bold') %>
  <% end %>

  <%= c.with_item do |ci| %>
    <%= ci.with_heading(t('activerecord.attributes.blogging/post.tag_ids')) %>
    <% @post.tags.each do |tag| %>
      <%= ci.with_title(tag.name, class: 'badge badge-info') %>
    <% end %>
  <% end %>

  <%= c.with_item do |ci| %>
    <%= ci.with_heading(t('activerecord.attributes.blogging/post.public_from')) %>
    <%= ci.with_title(l(@post.public_from, format: :month_time), class: 'text-lg font-bold') if @post.public_from %>
  <% end %>
<% end %>

<div class='flex mt-4'>
  <%= image_tag main_app.url_for(@post.cover_image.variant(:large)), class: 'm-auto' %>
</div>

<div class='prose mt-6'>
  <%= @post.body %>
</div>
